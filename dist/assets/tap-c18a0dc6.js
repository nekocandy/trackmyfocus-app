import{_ as h,R as r,a as u,r as c,j as a,b as l}from"./index-b8c9d867.js";var m=["size","color"];function f(e){var t=e.size,n=t===void 0?24:t,o=e.color,s=o===void 0?"currentColor":o,i=h(e,m);return r.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-right",width:n,height:n,viewBox:"0 0 24 24",stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},i),r.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),r.createElement("line",{x1:"13",y1:"18",x2:"19",y2:"12"}),r.createElement("line",{x1:"13",y1:"6",x2:"19",y2:"12"}))}var g=["size","color"];function x(e){var t=e.size,n=t===void 0?24:t,o=e.color,s=o===void 0?"currentColor":o,i=h(e,g);return r.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-clock-stop",width:n,height:n,viewBox:"0 0 24 24",stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},i),r.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r.createElement("path",{d:"M21 12a9 9 0 1 0 -9 9"}),r.createElement("path",{d:"M12 7v5l1 1"}),r.createElement("path",{d:"M16 16h6v6h-6z"}))}var k=["size","color"];function v(e){var t=e.size,n=t===void 0?24:t,o=e.color,s=o===void 0?"currentColor":o,i=h(e,k);return r.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-mood-look-left",width:n,height:n,viewBox:"0 0 24 24",stroke:s,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},i),r.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),r.createElement("circle",{cx:"12",cy:"12",r:"9"}),r.createElement("path",{d:"M9 9h.01"}),r.createElement("path",{d:"M4 15h4"}))}async function y(e){const t=localStorage.getItem("token");if(!t)return alert("no token, session not created");if(!e){alert("No session name found, aborting");return}return await fetch("https://api.trackmyfocus.co/api/sessions/create",{method:"POST",body:JSON.stringify({sessionName:e}),headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then(o=>o.json())}async function b(e){const t=localStorage.getItem("token");return t?e?await fetch("https://api.trackmyfocus.co/api/sessions/record",{method:"POST",body:JSON.stringify({sessionId:e}),headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then(o=>o.json()):void 0:alert("no token, session not created")}async function w(e){const t=localStorage.getItem("token");return t?e?await fetch("https://api.trackmyfocus.co/api/sessions/stop",{method:"POST",body:JSON.stringify({sessionId:e}),headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then(o=>o.json()):void 0:alert("no token, session not created")}function N(){const[e,t]=c.exports.useState(""),[n,o]=c.exports.useState(!1),[s,i]=c.exports.useState(null),p=async()=>{const d=await y(e);i(d.id)};return c.exports.useEffect(()=>{n&&(s||p())},[n]),s?a("div",{children:a("div",{className:"h-full flex items-center justify-center",children:l("div",{className:"w-full grid grid-cols-2 gap-4",children:[l("button",{onClick:()=>w(s),className:"flex items-center justify-center gap-1  text-orange-400 bg-orange-400/20 hover:bg-orange-500/30 px-4 py-1 rounded",children:[a(x,{size:20,strokeWidth:2,className:"text-orange-400"}),"Stop"]}),l("button",{onClick:()=>b(s),className:"font-bol flex items-center justify-center gap-1  text-teal-400 bg-teal-500/20 hover:bg-teal-500/30 px-4 py-1 rounded",children:[a(v,{size:20,strokeWidth:2,className:"text-teal-400"}),"Distracted"]})]})})}):a("div",{children:l("div",{className:"h-full flex items-center justify-center gap-2",children:[a("input",{onChange:d=>{t(d.target.value)},placeholder:"Enter Session Name",className:"bg-stone-800 border rounded border-light-200 px-2 py-1",type:"text"}),a("button",{disabled:e.length<=0,className:"flex items-center justify-center px-1 py-1 rouned bg-teal-600/20 disabled:cursor-not-allowed",onClick:()=>o(!0),children:a(f,{className:"text-gray-300"})})]})})}export{N as default};
